// ============================================
// RTL Support - Clean Implementation
// ============================================

@use "../utils/mixins";

[dir="rtl"] {
  direction: rtl;
  text-align: right;

  // Typography
  body, h1, h2, h3, h4, h5, h6, p, span, a, li {
    font-family: 'Cairo', 'Inter', sans-serif !important;
  }

  // ============================================
  // HEADER - Complete Mirror of English Version
  // ============================================
  
  .header {
    direction: rtl;
    text-align: right;

    // Navbar Container
    .navbar {
      flex-direction: row-reverse;
    }

    // Logo positioning
    .navbar-brand {
      margin-left: auto;
      margin-right: 0;
      order: 1;
      
      img {
        margin-left: 0;
        margin-right: 0;
      }
    }

    // Mobile menu button
    .navbar-header {
      #mobile_btn {
        left: auto;
        right: 15px;
      }
    }

    // Main Navigation
    .main-nav {
      // No directional overrides needed - gap handles spacing automatically
      
      li {
        // Links styling  
        a {
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        // Submenu arrow flip
        &.has-submenu > a::after {
          margin-inline-start: 3px;
        }
      }

      // Ensure proper spacing for all navigation items
      > li {
        a {
          text-align: center;
        }
      }
    }

    // Right side menu (appears on left in RTL)
    .header-navbar-rht {
      margin: 0 auto 0 0 !important;
      padding-left: 0;
      padding-right: 0;
      direction: rtl;
      flex-direction: row-reverse;
      
      li {
        padding-left: 20px;
        padding-right: 0;

        &:last-child {
          padding-left: 0;
        }

        &:first-child {
          padding-right: 0;
        }

        // Search bar
        &.searchbar {
          a i {
            margin: 0;
          }

          .togglesearch {
            left: auto;
            right: 0;
            text-align: right;

            .input-group {
              flex-direction: row-reverse;

              .form-control {
                border-radius: 0 4px 4px 0;
                text-align: right;
                padding-right: 12px;
                padding-left: 8px;
              }

              .btn {
                border-radius: 4px 0 0 4px;
              }
            }
          }
        }

        // Dropdown menus
        .dropdown-menu {
          left: auto;
          right: 0;
          text-align: right;

          &::before {
            left: auto;
            right: 17px;
          }

          .dropdown-item {
            text-align: right;
            padding-right: 15px;
            padding-left: 15px;
            
            img {
              margin-right: 0;
              margin-left: 10px;
            }
          }

          a:hover {
            padding-left: 15px;
            padding-right: 20px;
          }
        }

        // Header contact detail
        .header-contact-detail {
          padding-left: 0;
          padding-right: 10px;
          text-align: right;
        }
      }
    }

    // Header navigation container
    .header-nav {
      .main-menu-wrapper {
        justify-content: flex-start;
      }
    }

    // Menu header close button
    .menu-header .menu-close {
      left: auto;
      right: 20px;
    }

    // Contact info icons
    .header-info {
      p {
        i {
          margin-right: 0 !important;
          margin-left: 0.25rem !important;
        }
      }
    }
  }

  // Header fixed variations
  .header-fixed {
    .header-navbar-rht {
      margin-left: 0;
      margin-right: auto;
    }
  }

  // Icons positioning
  .btn i,
  .nav-link i {
    margin-right: 0 !important;
    margin-left: 0.5rem !important;
  }

  .language-globe-icon {
    margin-right: 0 !important;
    margin-left: 0.5rem !important;
  }

  // Button icons
  .btn-primary-gradient,
  .btn-dark {
    i {
      margin-right: 0 !important;
      margin-left: 0.5rem !important;
    }
  }

  // Flex containers
  .d-flex {
    &.gap-2,
    &.gap-3 {
      flex-direction: row-reverse;
    }
  }

  .d-inline-flex {
    flex-direction: row-reverse;
    
    &.align-items-center {
      > i {
        order: 2;
      }
    }
  }

  // Rounded pills buttons
  .rounded-pill {
    i {
      margin-right: 0 !important;
      margin-left: 0.5rem !important;
    }
  }

  // Flag dropdown
  .flag-dropdown {
    .dropdown-toggle {
      flex-direction: row-reverse;
      
      .flag-img {
        margin-right: 0;
        margin-left: 10px;
      }

      &:after {
        right: auto;
        left: 15px;
      }
    }

    .dropdown-menu {
      left: 0 !important;
      right: auto !important;

      .dropdown-item {
        img {
          margin-right: 0;
          margin-left: 10px;
        }
      }
    }
  }

  // ============================================
  // SPACING UTILITIES - Bootstrap Compatible
  // ============================================
  
  .me-1 { margin-left: 0.25rem !important; margin-right: 0 !important; }
  .me-2 { margin-left: 0.5rem !important; margin-right: 0 !important; }
  .me-3 { margin-left: 1rem !important; margin-right: 0 !important; }
  .me-4 { margin-left: 1.5rem !important; margin-right: 0 !important; }
  .me-5 { margin-left: 3rem !important; margin-right: 0 !important; }

  .ms-1 { margin-right: 0.25rem !important; margin-left: 0 !important; }
  .ms-2 { margin-right: 0.5rem !important; margin-left: 0 !important; }
  .ms-3 { margin-right: 1rem !important; margin-left: 0 !important; }
  .ms-4 { margin-right: 1.5rem !important; margin-left: 0 !important; }
  .ms-5 { margin-right: 3rem !important; margin-left: 0 !important; }

  .text-start { text-align: right !important; }
  .text-end { text-align: left !important; }

  // ============================================
  // SLIDERS
  // ============================================
  
  .slick-slider {
    &[dir="rtl"] {
      .slick-list {
        direction: rtl;
      }

      .slick-track {
        display: flex;
      }
    }
  }

  .owl-nav {
    .owl-prev { left: auto; right: 0; }
    .owl-next { right: auto; left: 0; }
  }

  // ============================================
  // FORMS
  // ============================================
  
  .form-control, .form-select, input, textarea {
    text-align: right;
    direction: rtl;
  }

  .form-label { text-align: right; }

  // ============================================
  // APP SECTION - Automatic RTL (using logical properties in home.scss)
  // ============================================
  // No overrides needed! Logical properties handle RTL automatically

  // ============================================
  // FOOTER
  // ============================================
  
  .footer {
    .footer-widget {
      h6 { text-align: right; }
      
      ul {
        padding-right: 0;
        padding-left: 0;
        
        li {
          text-align: right;
        }
      }
    }

    .social-icon {
      ul {
        justify-content: flex-end;
      }
    }
  }

  // ============================================
  // UTILITIES
  // ============================================
  
  .float-start { float: right !important; }
  .float-end { float: left !important; }

  ul, ol {
    padding-left: 0;
    padding-right: 2rem;
  }

  table th, table td { text-align: right; }

  // ============================================
  // RESPONSIVE
  // ============================================
  
  @include mixins.respond-below(lg) {
    .header {
      .main-nav li {
        margin: 0.5rem 0;
        text-align: right;
      }

      .header-navbar-rht {
        flex-direction: column;
        align-items: flex-end;
      }
    }
  }
}
